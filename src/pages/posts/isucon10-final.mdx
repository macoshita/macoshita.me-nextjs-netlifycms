---
slug: isucon10-final
title: ISUCON 10
date: 2020-10-03
author: macoshita
---
完敗だった :innocent:

## 何がまずかった？

自分の担当分について。

### Push 通知の実装

辛かった。15:00 に大体完了したはずが、そこから一切スコアがつかず、ずっと以下のエラーメッセージに悩まされていた。

```
webpush: 不正な Web Push メッセージの送信がありました (/push/...): illegal base64 data at input byte 27
```

原因は DB に突っ込む notification の型と WebPush のペイロードに突っ込む notification の型がぐちゃぐちゃになっていたことだった。DB の返す値に型が定義されてないなーまぁいっかーで進めてたのが非常にまずかった。

せっかく TypeScript 用意されてるんだし、、と思ったけど、別言語に切り替える発想があっても良かったのかもしれない。

### VSCode Remote

予選でほとんど問題なかったので最初はこれでやろうとしたんだけど、最初の方で 2 回 SSH が使えなくなり、こりゃだめだと諦めた。  
これがかなりテンパってしまって、vim で書いたりローカルで書いたものを持ってったりと、慣れるのにかなり時間がかかった。次回は絶対ローカルで開発する。。

### 時間配分

講評がでないとわからないけど、上記の Push が無くても、もうちょいマシなスコアにすることはできたのかもしれなくて、どこかで諦める判断があっても良かった。1 時間ごとにアラームならして「一旦手を引きましょう」とかしてもいいのかもしれない。



ただ、今回勝つにはおそらく Push をやっつけるしか無かっただろうから、勝とうとしたって目線だと、ここは悩ましい。

### 

